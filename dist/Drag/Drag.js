!function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s="./source/Drag/index.js")}({"./node_modules/@babel/runtime/helpers/assertThisInitialized.js":function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},"./node_modules/@babel/runtime/helpers/classCallCheck.js":function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},"./node_modules/@babel/runtime/helpers/createClass.js":function(e,t){function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}},"./node_modules/@babel/runtime/helpers/defineProperty.js":function(e,t){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},"./node_modules/@babel/runtime/helpers/getPrototypeOf.js":function(e,t){function r(t){return e.exports=r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(t)}e.exports=r},"./node_modules/@babel/runtime/helpers/inherits.js":function(e,t,r){var n=r("./node_modules/@babel/runtime/helpers/setPrototypeOf.js");e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}},"./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js":function(e,t,r){var n=r("./node_modules/@babel/runtime/helpers/typeof.js"),a=r("./node_modules/@babel/runtime/helpers/assertThisInitialized.js");e.exports=function(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?a(e):t}},"./node_modules/@babel/runtime/helpers/setPrototypeOf.js":function(e,t){function r(t,n){return e.exports=r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(t,n)}e.exports=r},"./node_modules/@babel/runtime/helpers/typeof.js":function(e,t){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(t){return"function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?e.exports=n=function(e){return r(e)}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)},n(t)}e.exports=n},"./node_modules/classnames/index.js":function(e,t,r){var n;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";var r={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)&&n.length){var s=a.apply(null,n);s&&e.push(s)}else if("object"===o)for(var i in n)r.call(n,i)&&n[i]&&e.push(i)}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()},"./node_modules/mido-construct/lib/react/react.js":function(e,t,r){const n=r("react"),a=r("react-dom");e.exports={React:n,ReactDom:a}},"./node_modules/mini-css-extract-plugin/dist/loader.js?!./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./src/web/Drag/drag.less":function(e,t,r){},"./node_modules/prop-types/factoryWithThrowingShims.js":function(e,t,r){"use strict";var n=r("./node_modules/prop-types/lib/ReactPropTypesSecret.js");function a(){}function o(){}o.resetWarningCache=a,e.exports=function(){function e(e,t,r,a,o,s){if(s!==n){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:a};return r.PropTypes=r,r}},"./node_modules/prop-types/index.js":function(e,t,r){e.exports=r("./node_modules/prop-types/factoryWithThrowingShims.js")()},"./node_modules/prop-types/lib/ReactPropTypesSecret.js":function(e,t,r){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},"./node_modules/vue-style-loader/lib/addStylesClient.js":function(e,t,r){"use strict";function n(e,t){for(var r=[],n={},a=0;a<t.length;a++){var o=t[a],s=o[0],i={id:e+":"+a,css:o[1],media:o[2],sourceMap:o[3]};n[s]?n[s].parts.push(i):r.push(n[s]={id:s,parts:[i]})}return r}r.r(t),r.d(t,"default",function(){return g});var a="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!a)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var o={},s=a&&(document.head||document.getElementsByTagName("head")[0]),i=null,l=0,d=!1,u=function(){},c=null,p="data-vue-ssr-id",f="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function g(e,t,r,a){d=r,c=a||{};var s=n(e,t);return m(s),function(t){for(var r=[],a=0;a<s.length;a++){var i=s[a];(l=o[i.id]).refs--,r.push(l)}t?m(s=n(e,t)):s=[];for(a=0;a<r.length;a++){var l;if(0===(l=r[a]).refs){for(var d=0;d<l.parts.length;d++)l.parts[d]();delete o[l.id]}}}}function m(e){for(var t=0;t<e.length;t++){var r=e[t],n=o[r.id];if(n){n.refs++;for(var a=0;a<n.parts.length;a++)n.parts[a](r.parts[a]);for(;a<r.parts.length;a++)n.parts.push(y(r.parts[a]));n.parts.length>r.parts.length&&(n.parts.length=r.parts.length)}else{var s=[];for(a=0;a<r.parts.length;a++)s.push(y(r.parts[a]));o[r.id]={id:r.id,refs:1,parts:s}}}}function h(){var e=document.createElement("style");return e.type="text/css",s.appendChild(e),e}function y(e){var t,r,n=document.querySelector("style["+p+'~="'+e.id+'"]');if(n){if(d)return u;n.parentNode.removeChild(n)}if(f){var a=l++;n=i||(i=h()),t=j.bind(null,n,a,!1),r=j.bind(null,n,a,!0)}else n=h(),t=function(e,t){var r=t.css,n=t.media,a=t.sourceMap;n&&e.setAttribute("media",n);c.ssrId&&e.setAttribute(p,t.id);a&&(r+="\n/*# sourceURL="+a.sources[0]+" */",r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */");if(e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}.bind(null,n),r=function(){n.parentNode.removeChild(n)};return t(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;t(e=n)}else r()}}var b,v=(b=[],function(e,t){return b[e]=t,b.filter(Boolean).join("\n")});function j(e,t,r,n){var a=r?"":n.css;if(e.styleSheet)e.styleSheet.cssText=v(t,a);else{var o=document.createTextNode(a),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(o,s[t]):e.appendChild(o)}}},"./source/Drag/Drag.html":function(e,t,r){e.exports=r.p+"/Drag/Drag.html"},"./source/Drag/index.js":function(e,t,r){"use strict";r.r(t);r("./source/Drag/Drag.html");var n=r("./node_modules/@babel/runtime/helpers/defineProperty.js"),a=r.n(n),o=r("./node_modules/@babel/runtime/helpers/classCallCheck.js"),s=r.n(o),i=r("./node_modules/@babel/runtime/helpers/createClass.js"),l=r.n(i),d=r("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),u=r.n(d),c=r("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),p=r.n(c),f=r("./node_modules/@babel/runtime/helpers/inherits.js"),g=r.n(f),m=r("./node_modules/mido-construct/lib/react/react.js"),h=r("react"),y=r.n(h),b=r("./node_modules/prop-types/index.js"),v=r.n(b),j=r("./node_modules/classnames/index.js"),O=r.n(j);r("./src/web/Drag/drag.less");function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(r,!0).forEach(function(t){a()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var S=+new Date,_=0,E=function(){return"drag-".concat(S,"-").concat(_+=1)},w=null,C=function(){},P=function(e){function t(e){var r;return s()(this,t),(r=u()(this,p()(t).call(this,e))).handleValudId=function(e){return e.map(function(e){return{id:E(),itemData:e}})},r.buildSetClassName=function(e){return e.split(" ").slice(1).toString().replace(/,/gi," ")},r.handleDragStart=function(e,t){e.dataTransfer.setData("text",t),e.target.id&&(w=e.target.id),e.target.parentNode===r.dragWarp&&(e.target.addEventListener("drag",r.handleOndrag),e.target.addEventListener("dragend",r.handleDragEnd),r.dragStartData={id:E(),itemData:t},w=r.dragStartData.id)},r.handleOndrag=function(){},r.handleDragEnd=function(e){console.log("拖拽结束"),e.dataTransfer.clearData("text");var t=r.state.list,n=void 0===t?[]:t,a=r.props.onChange,o=void 0===a?C:a;w=null,Object.keys(r.dragEnterData).length>0&&(n.push(r.dragEnterData),r.setState({list:n}),r.dragEnterData={}),o(n.map(function(e){return e.itemData}))},r.handleDllowDrop=function(e){e.preventDefault()},r.handleDragEnter=function(e){e.preventDefault();var t=r.state.list,n=void 0===t?[]:t;e.target===r.dropWarp?(console.log("进入目标容器"),r.dragEnterData=r.dragStartData,e.target.addEventListener("dragleave",r.handleOnDragLeave)):e.target===r.dragWarp?(console.log("返回原来容器"),r.dragEnterData={}):r.dropList&&e.target.parentNode.getAttribute("dropItem")===r.dropList.getAttribute("dropItem")&&(0===n.filter(function(e){return e.id===w}).length?(n.push(r.dragStartData),r.setState({list:r.buildListShow({id:w,i:e.target.parentNode.getAttribute("index"),type:"drag"})})):r.setState({list:r.buildListShow({id:w,i:e.target.parentNode.getAttribute("index"),type:"drag"})}))},r.handleOnDragOver=function(){console.log("目标容器中拖动")},r.handleOnDragLeave=function(e){e.target===r.dropWarp?console.log("脱离目标容器"):r.dragEnterData={}},r.handleOnDrop=function(e){e.preventDefault();var t=e.dataTransfer.get("text");console.log(t)},r.buildListShow=function(e){var t=r.state.list,n=void 0===t?[]:t,a=e.id,o=e.i,s=e.type,i=n.filter(function(e){return e.id!==a}),l="";switch(s){case"left":i.splice(o-1,0,n[o]);break;case"right":i.splice(o+1,0,n[o]);break;case"drag":l=n.findIndex(function(e){return e.id===a}),i.splice(o,0,n[l])}return i},r.handleClick=function(e){var t=r.props.onChange,n=r.buildListShow(e);r.setState({list:n}),t(n.map(function(e){return e.itemData}))},r.state={list:[]},r.dragStartData={},r.dragEnterData={},r}return g()(t,e),l()(t,[{key:"componentWillMount",value:function(){var e=this.props.defaultValue,t=void 0===e?[]:e;t.length>0&&this.setState({list:this.handleValudId(t)})}},{key:"componentDidMount",value:function(){document.addEventListener("dragenter",this.handleDragEnter)}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.defaultValue,r=void 0===t?[]:t;JSON.stringify(r)!==JSON.stringify(e.defaultValue)&&this.setState({list:this.handleValudId(e.defaultValue)})}},{key:"renderMask",value:function(e,t){var r=this,n=(this.$createElement,this.state.list),a=void 0===n?[]:n;return y.a.createElement("div",{className:"__mask"},0!==t?y.a.createElement("span",{onClick:function(){return r.handleClick({id:e,i:t,type:"left"})}},"❮"):y.a.createElement("span",null),y.a.createElement("span",{onClick:function(){return r.handleClick({id:e,i:t,type:"delete"})}},"✖"),t!==a.length-1?y.a.createElement("span",{onClick:function(){return r.handleClick({id:e,i:t,type:"right"})}},"❯"):y.a.createElement("span",null))}},{key:"render",value:function(){var e=this,t=(arguments[0],this.props),r=t.Option,n=void 0===r?{}:r,a=t.tag,o=t.dragClassName,s=t.dropClassName,i=t.dragStyle,l=void 0===i?{}:i,d=t.dropStyle,u=void 0===d?{}:d,c=this.state.list,p=void 0===c?[]:c;return y.a.createElement("div",{className:"drag-drop-warp"},Object.keys(n).map(function(t,r){return"dragWarp"===t?y.a.createElement("div",{className:O()("drag-warp",o),style:l,key:r,ref:function(t){return e.dragWarp=t}},n[t].dragData.map(function(r,o){return y.a.createElement(a,{className:n[t].classNames,style:D({},n[t].styles),key:o,onDragStart:function(t){return e.handleDragStart(t,r)},draggable:!0},Object(h.createElement)(n[t].render,D({},r)))})):y.a.createElement("div",{key:r,style:u,className:O()("drop-warp",s),ref:function(t){return e.dropWarp=t}},p.length>0?p.map(function(r,o){return y.a.createElement(a,{className:n[t].classNames,style:D({},n[t].styles,{position:"relative"}),key:o,draggable:!0,id:r.id,index:o,onDragStart:function(t){return e.handleDragStart(t)},onDragEnd:function(t){return e.handleDragEnd(t)},ref:function(t){return e.dropList=t},dropitem:"drop-Item"},Object(h.createElement)(n[t].render,D({},r.itemData)),e.renderMask(r.id,o))}):null)}))}}]),t}(y.a.Component);function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function N(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(r,!0).forEach(function(t){a()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}P.propTypes={tag:v.a.string,Option:v.a.object,dragClassName:v.a.string,dragStyle:v.a.object,dropClassName:v.a.string,dropStyle:v.a.object,defaultValue:v.a.array,onChange:v.a.func},P.defaultProps={tag:"div",Option:{},dragStyle:{},dragClassName:"dragWarp",dropStyle:{},dropClassName:"dropWarp",defaultValue:[],onChange:C};var T={dragWarp:{width:"200px",height:"100px",border:"solid 1px blue"},li:{width:"40px",height:"100%",display:"inline-block",textAlign:"center",border:"solid 1px black"},drop:{width:"800px",height:"200px",border:"solid 1px blue"},li2:{width:"80px",height:"100%",display:"inline-block",textAlign:"center",border:"solid 1px black"}},W=[{text:5,id:"5"},{text:6,id:"6"},{text:7,id:"7"},{text:8,id:"8"}],R=function(e){function t(e){var r;s()(this,t);r.$createElement;return(r=u()(this,p()(t).call(this,e))).handleOnchange=function(e){console.table(e)},r.option={dragWarp:{dragData:[{text:1,id:"1"},{text:2,id:"2"},{text:3,id:"3"},{text:4,id:"4"}],classNames:"dragWarp-li",styles:{display:"inline-block"},render:function(e){return m.React.createElement("span",{style:N({},T.li)},e.text)}},dropWarp:{classNames:"dropWarp-li",styles:N({},T.li2),render:function(e){return m.React.createElement("span",null,e.text)}}},r}return g()(t,e),l()(t,[{key:"render",value:function(){arguments[0];return m.React.createElement(P,{Option:this.option,dragClassName:"drag-Warp",dragStyle:N({},T.dragWarp),dropClassName:"drop-Warp",dropStyle:N({},T.drop),defaultValue:W,onChange:this.handleOnchange})}}]),t}(m.React.Component);m.ReactDom.render(m.React.createElement(R,null),document.querySelector(".app"))},"./src/web/Drag/drag.less":function(e,t,r){var n=r("./node_modules/mini-css-extract-plugin/dist/loader.js?!./node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./src/web/Drag/drag.less");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,r("./node_modules/vue-style-loader/lib/addStylesClient.js").default)("4747e158",n,!0,{})},react:function(e,t){e.exports=React},"react-dom":function(e,t){e.exports=ReactDOM}});